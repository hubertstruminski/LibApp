@model LibApp.Models.Book

@{
    ViewBag.Title = Model.Name;
    ViewBag.Title = "Book Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row-container">
    <h2>@Model.Name</h2>
    <button id="editBtn" class="btn btn-warning button-space">Edit</button>
</div>

<ul>
    <li>Author Name: @Model.AuthorName</li>
    <li>Genre: @Model.Genre.Name</li>
    <li>Release Date: @Model.ReleaseDate.ToShortDateString()</li>
    <li>Date Added: @Model.DateAdded.ToShortDateString()</li>
    <li>Numbers in Stock: @Model.NumberInStock</li>
</ul>


@section Scripts
{
    <script>
        $(document).ready(function () {
            const userRole = fetchUserRole();

            if (userRole === 'User') {
                $("#editBtn").css({ "display": "none" });
            }

            $("#editBtn").click(function () {
                window.location.href = "/books/edit/" + @Model.Id;
            });
        });
    </script>
}